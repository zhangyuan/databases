var DataBox=React.createClass({createIndex:function(e){for(var t=lunr(function(){this.field("name",{boost:10}),this.field("description"),this.ref("id")}),a=0;a<e.length;a++){var n=e[a];t.add({id:a,name:n.name,description:n.description})}return t},getInitialState:function(){var e=this.props.dataSource;return{data:e,dataSource:e,index:this.createIndex(e)}},render:function(){return React.createElement("div",{className:"dataBox"},React.createElement(SearchForm,{onSearch:this.handleSearch}),React.createElement(DataList,{data:this.state.data}))},handleSearch:function(e){if(""===e)this.setState({data:this.state.dataSource});else{var t=this.state.index.search(e),a=this.state.dataSource,n=t.map(function(e){return a[e.ref]});this.setState({data:n})}}}),SearchForm=React.createClass({render:function(){return React.createElement("form",{className:"searchForm"},React.createElement("input",{type:"text",placeholder:"Search*",ref:"queryInput",onChange:this.onChange}))},componentDidMount:function(){React.findDOMNode(this.refs.queryInput).focus()},onChange:function(e){this.props.onSearch(e.target.value)}}),DataList=React.createClass({render:function(){var e=this.props.data.map(function(e,t){return React.createElement("section",{className:"dataNode"},React.createElement("header",null,React.createElement("a",{href:e.url},e.name),React.createElement("span",{className:"index"},"#",t+1)),React.createElement("div",null,React.createElement("a",{className:"url",href:e.url},e.url)),React.createElement("div",{className:"dataDescription"},e.description))});return React.createElement("div",{className:"dataList"},e)}});$.ajax({url:"api/databases.json",dataType:"json",success:function(e){ReactDOM.render(React.createElement(DataBox,{dataSource:e}),document.getElementById("dataBox"))}});